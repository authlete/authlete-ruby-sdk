# ClientManagement
(*client_management*)

## Overview

### Available Operations

* [update_lock_flag](#update_lock_flag) - Update Client Lock
* [refresh_secret](#refresh_secret) - Rotate Client Secret
* [update_secret](#update_secret) - Update Client Secret
* [authorizations](#authorizations) - Get Authorized Applications
* [update_authorizations](#update_authorizations) - Update Client Tokens
* [destroy_authorizations](#destroy_authorizations) - Delete Client Tokens
* [granted_scopes](#granted_scopes) - Get Granted Scopes
* [destroy_granted_scopes](#destroy_granted_scopes) - Delete Granted Scopes
* [requestable_scopes](#requestable_scopes) - Get Requestable Scopes
* [update_requestable_scopes](#update_requestable_scopes) - Update Requestable Scopes
* [destroy_requestable_scopes](#destroy_requestable_scopes) - Delete Requestable Scopes

## update_lock_flag

Lock and unlock a client


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_flag_update_api" method="post" path="/api/{serviceId}/client/lock_flag/update/{clientIdentifier}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.update_lock_flag(service_id: '<id>', client_identifier: '<value>', client_flag_update_request: Models::Components::ClientFlagUpdateRequest.new(
  client_locked: true,
))

unless res.client_flag_update_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                                                                                | Type                                                                                                     | Required                                                                                                 | Description                                                                                              |
| -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| `service_id`                                                                                             | *::String*                                                                                               | :heavy_check_mark:                                                                                       | A service ID.                                                                                            |
| `client_identifier`                                                                                      | *::String*                                                                                               | :heavy_check_mark:                                                                                       | A client ID.                                                                                             |
| `client_flag_update_request`                                                                             | [T.nilable(Models::Components::ClientFlagUpdateRequest)](../../models/shared/clientflagupdaterequest.md) | :heavy_minus_sign:                                                                                       | N/A                                                                                                      |

### Response

**[T.nilable(Models::Operations::ClientFlagUpdateApiResponse)](../../models/operations/clientflagupdateapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## refresh_secret

Refresh the client secret of a client. A new value of the client secret will be generated by the
Authlete server.

If you want to specify a new value, use `/api/client/secret/update` API.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_secret_refresh_api" method="get" path="/api/{serviceId}/client/secret/refresh/{clientIdentifier}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.refresh_secret(service_id: '<id>', client_identifier: '<value>')

unless res.client_secret_refresh_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                          | Type                                               | Required                                           | Description                                        |
| -------------------------------------------------- | -------------------------------------------------- | -------------------------------------------------- | -------------------------------------------------- |
| `service_id`                                       | *::String*                                         | :heavy_check_mark:                                 | A service ID.                                      |
| `client_identifier`                                | *::String*                                         | :heavy_check_mark:                                 | The client ID or the client ID alias of a client.<br/> |

### Response

**[T.nilable(Models::Operations::ClientSecretRefreshApiResponse)](../../models/operations/clientsecretrefreshapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## update_secret

Update the client secret of a client.

If you want to have the Authlete server generate a new value of the client secret, use `/api/client/secret/refresh`
API.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_secret_update_api" method="post" path="/api/{serviceId}/client/secret/update/{clientIdentifier}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.update_secret(service_id: '<id>', client_identifier: '<value>', client_secret_update_request: Models::Components::ClientSecretUpdateRequest.new(
  client_secret: 'my_updated_client_secret',
))

unless res.client_secret_update_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                                                                         | Type                                                                                              | Required                                                                                          | Description                                                                                       |
| ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `service_id`                                                                                      | *::String*                                                                                        | :heavy_check_mark:                                                                                | A service ID.                                                                                     |
| `client_identifier`                                                                               | *::String*                                                                                        | :heavy_check_mark:                                                                                | The client ID or the client ID alias of a client.<br/>                                            |
| `client_secret_update_request`                                                                    | [Models::Components::ClientSecretUpdateRequest](../../models/shared/clientsecretupdaterequest.md) | :heavy_check_mark:                                                                                | N/A                                                                                               |

### Response

**[T.nilable(Models::Operations::ClientSecretUpdateApiResponse)](../../models/operations/clientsecretupdateapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## authorizations

Get a list of client applications that an end-user has authorized.

The subject parameter is required and can be provided either in the path or as a query parameter.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_authorization_get_list_api" method="get" path="/api/{serviceId}/client/authorization/get/list/{subject}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

req = Models::Operations::ClientAuthorizationGetListApiRequest.new(
  service_id: '<id>',
  subject_path_parameter: '<value>',
  subject_query_parameter: '<value>',
)

res = s.client_management.authorizations(request: req)

unless res.client_authorization_get_list_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                                                                                                   | Type                                                                                                                        | Required                                                                                                                    | Description                                                                                                                 |
| --------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `request`                                                                                                                   | [Models::Operations::ClientAuthorizationGetListApiRequest](../../models/operations/clientauthorizationgetlistapirequest.md) | :heavy_check_mark:                                                                                                          | The request object to use for the request.                                                                                  |

### Response

**[T.nilable(Models::Operations::ClientAuthorizationGetListApiResponse)](../../models/operations/clientauthorizationgetlistapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## update_authorizations

Update attributes of all existing access tokens given to a client application.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_authorization_update_api" method="post" path="/api/{serviceId}/client/authorization/update/{clientId}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.update_authorizations(service_id: '<id>', client_id: '<id>', client_authorization_update_request: Models::Components::ClientAuthorizationUpdateRequest.new(
  subject: 'john',
  scopes: [
    'history.read',
  ],
))

unless res.client_authorization_update_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                                                                                                  | Type                                                                                                                       | Required                                                                                                                   | Description                                                                                                                |
| -------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| `service_id`                                                                                                               | *::String*                                                                                                                 | :heavy_check_mark:                                                                                                         | A service ID.                                                                                                              |
| `client_id`                                                                                                                | *::String*                                                                                                                 | :heavy_check_mark:                                                                                                         | A client ID.<br/>                                                                                                          |
| `client_authorization_update_request`                                                                                      | [T.nilable(Models::Components::ClientAuthorizationUpdateRequest)](../../models/shared/clientauthorizationupdaterequest.md) | :heavy_minus_sign:                                                                                                         | N/A                                                                                                                        |

### Response

**[T.nilable(Models::Operations::ClientAuthorizationUpdateApiResponse)](../../models/operations/clientauthorizationupdateapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## destroy_authorizations

Delete all existing access tokens issued to a client application by an end-user.

The subject parameter is required and can be provided either in the path or as a query parameter.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_authorization_delete_api" method="delete" path="/api/{serviceId}/client/authorization/delete/{clientId}/{subject}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.destroy_authorizations(service_id: '<id>', client_id: '<id>', subject_path_parameter: '<value>', subject_query_parameter: '<value>')

unless res.client_authorization_delete_response.nil?
  # handle response
end

```

### Parameters

| Parameter                       | Type                            | Required                        | Description                     |
| ------------------------------- | ------------------------------- | ------------------------------- | ------------------------------- |
| `service_id`                    | *::String*                      | :heavy_check_mark:              | A service ID.                   |
| `client_id`                     | *::String*                      | :heavy_check_mark:              | A client ID.<br/>               |
| `subject_path_parameter`        | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |
| `subject_query_parameter`       | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |

### Response

**[T.nilable(Models::Operations::ClientAuthorizationDeleteApiResponse)](../../models/operations/clientauthorizationdeleteapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## granted_scopes

Get the set of scopes that a user has granted to a client application.
### Description
Possible values for `requestableScopes` parameter in the response from this API are as follows.
**null**
The user has not granted authorization to the client application in the past, or records about the
combination of the user and the client application have been deleted from Authlete's DB.
**An empty set**
The user has granted authorization to the client application in the past, but no scopes are associated
with the authorization.
**A set with at least one element**
The user has granted authorization to the client application in the past and some scopes are associated
with the authorization. These scopes are returned.
Example: `[ "profile", "email" ]`
The subject parameter is required and can be provided either in the path or as a query parameter.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_granted_scopes_get_api" method="get" path="/api/{serviceId}/client/granted_scopes/get/{clientId}/{subject}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.granted_scopes(service_id: '715948317', client_id: '1140735077', subject_path_parameter: '<value>', subject_query_parameter: '<value>')

unless res.client_authorization_delete_response.nil?
  # handle response
end

```

### Parameters

| Parameter                       | Type                            | Required                        | Description                     | Example                         |
| ------------------------------- | ------------------------------- | ------------------------------- | ------------------------------- | ------------------------------- |
| `service_id`                    | *::String*                      | :heavy_check_mark:              | A service ID.                   | 715948317                       |
| `client_id`                     | *::String*                      | :heavy_check_mark:              | A client ID.<br/>               | 1140735077                      |
| `subject_path_parameter`        | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |                                 |
| `subject_query_parameter`       | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |                                 |

### Response

**[T.nilable(Models::Operations::ClientGrantedScopesGetApiResponse)](../../models/operations/clientgrantedscopesgetapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## destroy_granted_scopes

Delete the set of scopes that an end-user has granted to a client application.
### Description
Even if records about granted scopes are deleted by calling this API, existing access tokens are
not deleted and scopes of existing access tokens are not changed.
The subject parameter is required and can be provided either in the path or as a query parameter.


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_granted_scopes_delete_api" method="delete" path="/api/{serviceId}/client/granted_scopes/delete/{clientId}/{subject}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.destroy_granted_scopes(service_id: '<id>', client_id: '<id>', subject_path_parameter: '<value>', subject_query_parameter: '<value>')

unless res.client_granted_scopes_delete_response.nil?
  # handle response
end

```

### Parameters

| Parameter                       | Type                            | Required                        | Description                     |
| ------------------------------- | ------------------------------- | ------------------------------- | ------------------------------- |
| `service_id`                    | *::String*                      | :heavy_check_mark:              | A service ID.                   |
| `client_id`                     | *::String*                      | :heavy_check_mark:              | A client ID.<br/>               |
| `subject_path_parameter`        | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |
| `subject_query_parameter`       | *::String*                      | :heavy_check_mark:              | Unique user ID of an end-user.<br/> |

### Response

**[T.nilable(Models::Operations::ClientGrantedScopesDeleteApiResponse)](../../models/operations/clientgrantedscopesdeleteapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## requestable_scopes

Get the requestable scopes per client


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_extension_requestables_scopes_get_api" method="get" path="/api/{serviceId}/client/extension/requestable_scopes/get/{clientId}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.requestable_scopes(service_id: '<id>', client_id: '<id>')

unless res.client_extension_requestable_scopes_get_response.nil?
  # handle response
end

```

### Parameters

| Parameter          | Type               | Required           | Description        |
| ------------------ | ------------------ | ------------------ | ------------------ |
| `service_id`       | *::String*         | :heavy_check_mark: | A service ID.      |
| `client_id`        | *::String*         | :heavy_check_mark: | A client ID.<br/>  |

### Response

**[T.nilable(Models::Operations::ClientExtensionRequestablesScopesGetApiResponse)](../../models/operations/clientextensionrequestablesscopesgetapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## update_requestable_scopes

Update requestable scopes of a client


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_extension_requestables_scopes_update_api" method="put" path="/api/{serviceId}/client/extension/requestable_scopes/update/{clientId}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.update_requestable_scopes(service_id: '<id>', client_id: '<id>', client_extension_requestable_scopes_update_request: Models::Components::ClientExtensionRequestableScopesUpdateRequest.new())

unless res.client_extension_requestable_scopes_update_response.nil?
  # handle response
end

```

### Parameters

| Parameter                                                                                                                                 | Type                                                                                                                                      | Required                                                                                                                                  | Description                                                                                                                               |
| ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `service_id`                                                                                                                              | *::String*                                                                                                                                | :heavy_check_mark:                                                                                                                        | A service ID.                                                                                                                             |
| `client_id`                                                                                                                               | *::String*                                                                                                                                | :heavy_check_mark:                                                                                                                        | A client ID.<br/>                                                                                                                         |
| `client_extension_requestable_scopes_update_request`                                                                                      | [Models::Components::ClientExtensionRequestableScopesUpdateRequest](../../models/shared/clientextensionrequestablescopesupdaterequest.md) | :heavy_check_mark:                                                                                                                        | N/A                                                                                                                                       |

### Response

**[T.nilable(Models::Operations::ClientExtensionRequestablesScopesUpdateApiResponse)](../../models/operations/clientextensionrequestablesscopesupdateapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |

## destroy_requestable_scopes

Delete requestable scopes of a client


### Example Usage

<!-- UsageSnippet language="ruby" operationID="client_extension_requestables_scopes_delete_api" method="delete" path="/api/{serviceId}/client/extension/requestable_scopes/delete/{clientId}" -->
```ruby
require 'authlete_ruby_test'

Models = ::Authlete::Models
s = ::Authlete::Client.new(
      bearer: '<YOUR_BEARER_TOKEN_HERE>',
    )

res = s.client_management.destroy_requestable_scopes(service_id: '<id>', client_id: '<id>')

if res.status_code == 200
  # handle response
end

```

### Parameters

| Parameter          | Type               | Required           | Description        |
| ------------------ | ------------------ | ------------------ | ------------------ |
| `service_id`       | *::String*         | :heavy_check_mark: | A service ID.      |
| `client_id`        | *::String*         | :heavy_check_mark: | A client ID.<br/>  |

### Response

**[T.nilable(Models::Operations::ClientExtensionRequestablesScopesDeleteApiResponse)](../../models/operations/clientextensionrequestablesscopesdeleteapiresponse.md)**

### Errors

| Error Type                  | Status Code                 | Content Type                |
| --------------------------- | --------------------------- | --------------------------- |
| Models::Errors::ResultError | 400, 401, 403               | application/json            |
| Models::Errors::ResultError | 500                         | application/json            |
| Errors::APIError            | 4XX, 5XX                    | \*/\*                       |